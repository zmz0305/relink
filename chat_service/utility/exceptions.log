2017-03-02T07:39:41.020Z - error: uncaughtException: cb is not a function date=Thu Mar 02 2017 01:39:41 GMT-0600 (CST), pid=39529, uid=501, gid=20, cwd=/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/tests, execPath=/Users/zmz0305/.nvm/versions/node/v6.9.5/bin/node, version=v6.9.5, argv=[/Users/zmz0305/.nvm/versions/node/v6.9.5/bin/node, /Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/tests/try.js], rss=43319296, heapTotal=32542720, heapUsed=14374712, loadavg=[1.69775390625, 1.5634765625, 1.630859375], uptime=733606, trace=[column=9, file=/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/database/room_apis.js, function=Object.module.exports.joinRoom, line=81, method=module.exports.joinRoom, native=false, column=11, file=/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/tests/try.js, function=, line=25, method=null, native=false, column=32, file=module.js, function=Module._compile, line=570, method=_compile, native=false, column=10, file=module.js, function=Object.Module._extensions..js, line=579, method=Module._extensions..js, native=false, column=32, file=module.js, function=Module.load, line=487, method=load, native=false, column=12, file=module.js, function=tryModuleLoad, line=446, method=null, native=false, column=3, file=module.js, function=Function.Module._load, line=438, method=Module._load, native=false, column=10, file=module.js, function=Module.runMain, line=604, method=runMain, native=false, column=7, file=bootstrap_node.js, function=run, line=394, method=null, native=false, column=9, file=bootstrap_node.js, function=startup, line=149, method=null, native=false, column=3, file=bootstrap_node.js, function=null, line=509, method=null, native=false], stack=[TypeError: cb is not a function,     at Object.module.exports.joinRoom (/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/database/room_apis.js:81:9),     at Object.<anonymous> (/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/tests/try.js:25:11),     at Module._compile (module.js:570:32),     at Object.Module._extensions..js (module.js:579:10),     at Module.load (module.js:487:32),     at tryModuleLoad (module.js:446:12),     at Function.Module._load (module.js:438:3),     at Module.runMain (module.js:604:10),     at run (bootstrap_node.js:394:7),     at startup (bootstrap_node.js:149:9),     at bootstrap_node.js:509:3]
2017-03-04T22:18:46.686Z - error: uncaughtException: failed to connect to server [127.0.0.1:27017] on first connect date=Sat Mar 04 2017 16:18:46 GMT-0600 (CST), pid=53610, uid=501, gid=20, cwd=/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service, execPath=/Users/zmz0305/.nvm/versions/node/v6.9.5/bin/node, version=v6.9.5, argv=[/Users/zmz0305/.nvm/versions/node/v6.9.5/bin/node, /Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/app.js], rss=57544704, heapTotal=38834176, heapUsed=22580592, loadavg=[1.78125, 1.87255859375, 1.896484375], uptime=959151, trace=[column=35, file=/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/mongodb-core/lib/topologies/server.js, function=, line=326, method=null, native=false, column=13, file=events.js, function=emitOne, line=96, method=null, native=false, column=7, file=events.js, function=Pool.emit, line=188, method=emit, native=false, column=12, file=/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/mongodb-core/lib/connection/pool.js, function=, line=270, method=null, native=false, column=16, file=events.js, function=Connection.g, line=291, method=g, native=false, column=13, file=events.js, function=emitTwo, line=106, method=null, native=false, column=7, file=events.js, function=Connection.emit, line=191, method=emit, native=false, column=49, file=/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/mongodb-core/lib/connection/connection.js, function=, line=175, method=null, native=false, column=16, file=events.js, function=Socket.g, line=291, method=g, native=false, column=13, file=events.js, function=emitOne, line=96, method=null, native=false, column=7, file=events.js, function=Socket.emit, line=188, method=emit, native=false, column=8, file=net.js, function=emitErrorNT, line=1278, method=null, native=false, column=11, file=internal/process/next_tick.js, function=_combinedTickCallback, line=74, method=null, native=false, column=9, file=internal/process/next_tick.js, function=process._tickCallback, line=98, method=_tickCallback, native=false], stack=[MongoError: failed to connect to server [127.0.0.1:27017] on first connect,     at Pool.<anonymous> (/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/mongodb-core/lib/topologies/server.js:326:35),     at emitOne (events.js:96:13),     at Pool.emit (events.js:188:7),     at Connection.<anonymous> (/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/mongodb-core/lib/connection/pool.js:270:12),     at Connection.g (events.js:291:16),     at emitTwo (events.js:106:13),     at Connection.emit (events.js:191:7),     at Socket.<anonymous> (/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/mongodb-core/lib/connection/connection.js:175:49),     at Socket.g (events.js:291:16),     at emitOne (events.js:96:13),     at Socket.emit (events.js:188:7),     at emitErrorNT (net.js:1278:8),     at _combinedTickCallback (internal/process/next_tick.js:74:11),     at process._tickCallback (internal/process/next_tick.js:98:9)]
2017-03-05T19:40:10.008Z - error: uncaughtException: Can't set headers after they are sent. date=Sun Mar 05 2017 13:40:09 GMT-0600 (CST), pid=56915, uid=501, gid=20, cwd=/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service, execPath=/Users/zmz0305/.nvm/versions/node/v6.9.5/bin/node, version=v6.9.5, argv=[/Users/zmz0305/.nvm/versions/node/v6.9.5/bin/node, /Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/app.js], rss=42528768, heapTotal=36392960, heapUsed=28356720, loadavg=[2.6240234375, 2.7470703125, 2.9921875], uptime=1036034, trace=[column=11, file=_http_outgoing.js, function=ServerResponse.OutgoingMessage.setHeader, line=356, method=OutgoingMessage.setHeader, native=false, column=10, file=/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.header, line=718, method=header, native=false, column=12, file=/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.send, line=163, method=send, native=false, column=15, file=/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.json, line=249, method=json, native=false, column=21, file=/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.send, line=151, method=send, native=false, column=21, file=/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/routes/sock.js, function=null, line=36, method=null, native=false, column=21, file=/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/database/room_apis.js, function=null, line=50, method=null, native=false, column=16, file=/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/mongoose/lib/model.js, function=, line=3433, method=null, native=false, column=21, file=/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/kareem/index.js, function=null, line=273, method=null, native=false, column=16, file=/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/kareem/index.js, function=null, line=127, method=null, native=false, column=7, file=internal/process/next_tick.js, function=_combinedTickCallback, line=67, method=null, native=false, column=9, file=internal/process/next_tick.js, function=process._tickCallback, line=98, method=_tickCallback, native=false], stack=[Error: Can't set headers after they are sent.,     at ServerResponse.OutgoingMessage.setHeader (_http_outgoing.js:356:11),     at ServerResponse.header (/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/express/lib/response.js:718:10),     at ServerResponse.send (/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/express/lib/response.js:163:12),     at ServerResponse.json (/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/express/lib/response.js:249:15),     at ServerResponse.send (/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/express/lib/response.js:151:21),     at /Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/routes/sock.js:36:21,     at /Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/database/room_apis.js:50:21,     at Query.<anonymous> (/Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/mongoose/lib/model.js:3433:16),     at /Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/kareem/index.js:273:21,     at /Users/zmz0305/workspace/OneDrive/workplace/relink/chat_service/node_modules/kareem/index.js:127:16,     at _combinedTickCallback (internal/process/next_tick.js:67:7),     at process._tickCallback (internal/process/next_tick.js:98:9)]
2017-03-12T23:53:24.931Z - error: uncaughtException: failed to connect to server [127.0.0.1:27017] on first connect date=Sun Mar 12 2017 18:53:24 GMT-0500 (CDT), pid=16187, uid=1000, gid=1000, cwd=/home/mingze/428/relink/chat_service, execPath=/usr/bin/nodejs, version=v4.2.6, argv=[/usr/bin/nodejs, /home/mingze/428/relink/chat_service/app.js], rss=54939648, heapTotal=36278880, heapUsed=20544336, loadavg=[0.43701171875, 0.51513671875, 0.43310546875], uptime=416015, trace=[column=35, file=/home/mingze/428/relink/chat_service/node_modules/mongodb-core/lib/topologies/server.js, function=, line=326, method=null, native=false, column=13, file=events.js, function=emitOne, line=77, method=null, native=false, column=7, file=events.js, function=emit, line=169, method=null, native=false, column=12, file=/home/mingze/428/relink/chat_service/node_modules/mongodb-core/lib/connection/pool.js, function=, line=270, method=null, native=false, column=16, file=events.js, function=g, line=260, method=null, native=false, column=13, file=events.js, function=emitTwo, line=87, method=null, native=false, column=7, file=events.js, function=emit, line=172, method=null, native=false, column=49, file=/home/mingze/428/relink/chat_service/node_modules/mongodb-core/lib/connection/connection.js, function=, line=175, method=null, native=false, column=16, file=events.js, function=Socket.g, line=260, method=g, native=false, column=13, file=events.js, function=emitOne, line=77, method=null, native=false, column=7, file=events.js, function=Socket.emit, line=169, method=emit, native=false, column=8, file=net.js, function=emitErrorNT, line=1256, method=null, native=false, column=9, file=node.js, function=nextTickCallbackWith2Args, line=441, method=null, native=false, column=17, file=node.js, function=process._tickCallback, line=355, method=_tickCallback, native=false], stack=[MongoError: failed to connect to server [127.0.0.1:27017] on first connect,     at null.<anonymous> (/home/mingze/428/relink/chat_service/node_modules/mongodb-core/lib/topologies/server.js:326:35),     at emitOne (events.js:77:13),     at emit (events.js:169:7),     at null.<anonymous> (/home/mingze/428/relink/chat_service/node_modules/mongodb-core/lib/connection/pool.js:270:12),     at g (events.js:260:16),     at emitTwo (events.js:87:13),     at emit (events.js:172:7),     at Socket.<anonymous> (/home/mingze/428/relink/chat_service/node_modules/mongodb-core/lib/connection/connection.js:175:49),     at Socket.g (events.js:260:16),     at emitOne (events.js:77:13),     at Socket.emit (events.js:169:7),     at emitErrorNT (net.js:1256:8),     at nextTickCallbackWith2Args (node.js:441:9),     at process._tickCallback (node.js:355:17)]
2017-03-12T23:55:33.930Z - error: uncaughtException: Can't set headers after they are sent. date=Sun Mar 12 2017 18:55:33 GMT-0500 (CDT), pid=16278, uid=1000, gid=1000, cwd=/home/mingze/428/relink/chat_service, execPath=/usr/bin/nodejs, version=v4.2.6, argv=[/usr/bin/nodejs, /home/mingze/428/relink/chat_service/app.js], rss=56094720, heapTotal=38330720, heapUsed=23030064, loadavg=[0.1728515625, 0.376953125, 0.38916015625], uptime=416144, trace=[column=11, file=_http_outgoing.js, function=ServerResponse.OutgoingMessage.setHeader, line=335, method=OutgoingMessage.setHeader, native=false, column=10, file=/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.header, line=718, method=header, native=false, column=12, file=/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.send, line=163, method=send, native=false, column=15, file=/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.json, line=249, method=json, native=false, column=21, file=/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.send, line=151, method=send, native=false, column=21, file=/home/mingze/428/relink/chat_service/routes/sock.js, function=null, line=36, method=null, native=false, column=21, file=/home/mingze/428/relink/chat_service/database/room_apis.js, function=null, line=61, method=null, native=false, column=16, file=/home/mingze/428/relink/chat_service/node_modules/mongoose/lib/model.js, function=, line=3433, method=null, native=false, column=21, file=/home/mingze/428/relink/chat_service/node_modules/kareem/index.js, function=null, line=273, method=null, native=false, column=16, file=/home/mingze/428/relink/chat_service/node_modules/kareem/index.js, function=null, line=127, method=null, native=false, column=9, file=node.js, function=nextTickCallbackWith0Args, line=419, method=null, native=false, column=13, file=node.js, function=process._tickCallback, line=348, method=_tickCallback, native=false], stack=[Error: Can't set headers after they are sent.,     at ServerResponse.OutgoingMessage.setHeader (_http_outgoing.js:335:11),     at ServerResponse.header (/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js:718:10),     at ServerResponse.send (/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js:163:12),     at ServerResponse.json (/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js:249:15),     at ServerResponse.send (/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js:151:21),     at /home/mingze/428/relink/chat_service/routes/sock.js:36:21,     at /home/mingze/428/relink/chat_service/database/room_apis.js:61:21,     at Query.<anonymous> (/home/mingze/428/relink/chat_service/node_modules/mongoose/lib/model.js:3433:16),     at /home/mingze/428/relink/chat_service/node_modules/kareem/index.js:273:21,     at /home/mingze/428/relink/chat_service/node_modules/kareem/index.js:127:16,     at nextTickCallbackWith0Args (node.js:419:9),     at process._tickCallback (node.js:348:13)]
2017-03-12T23:56:34.776Z - error: uncaughtException: Can't set headers after they are sent. date=Sun Mar 12 2017 18:56:34 GMT-0500 (CDT), pid=16278, uid=1000, gid=1000, cwd=/home/mingze/428/relink/chat_service, execPath=/usr/bin/nodejs, version=v4.2.6, argv=[/usr/bin/nodejs, /home/mingze/428/relink/chat_service/app.js], rss=55840768, heapTotal=38330720, heapUsed=24231768, loadavg=[0.85107421875, 0.5556640625, 0.45263671875], uptime=416205, trace=[column=11, file=_http_outgoing.js, function=ServerResponse.OutgoingMessage.setHeader, line=335, method=OutgoingMessage.setHeader, native=false, column=10, file=/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.header, line=718, method=header, native=false, column=12, file=/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.send, line=163, method=send, native=false, column=15, file=/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.json, line=249, method=json, native=false, column=21, file=/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.send, line=151, method=send, native=false, column=21, file=/home/mingze/428/relink/chat_service/routes/sock.js, function=null, line=36, method=null, native=false, column=21, file=/home/mingze/428/relink/chat_service/database/room_apis.js, function=null, line=61, method=null, native=false, column=16, file=/home/mingze/428/relink/chat_service/node_modules/mongoose/lib/model.js, function=, line=3433, method=null, native=false, column=21, file=/home/mingze/428/relink/chat_service/node_modules/kareem/index.js, function=null, line=273, method=null, native=false, column=16, file=/home/mingze/428/relink/chat_service/node_modules/kareem/index.js, function=null, line=127, method=null, native=false, column=9, file=node.js, function=nextTickCallbackWith0Args, line=419, method=null, native=false, column=13, file=node.js, function=process._tickCallback, line=348, method=_tickCallback, native=false], stack=[Error: Can't set headers after they are sent.,     at ServerResponse.OutgoingMessage.setHeader (_http_outgoing.js:335:11),     at ServerResponse.header (/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js:718:10),     at ServerResponse.send (/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js:163:12),     at ServerResponse.json (/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js:249:15),     at ServerResponse.send (/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js:151:21),     at /home/mingze/428/relink/chat_service/routes/sock.js:36:21,     at /home/mingze/428/relink/chat_service/database/room_apis.js:61:21,     at Query.<anonymous> (/home/mingze/428/relink/chat_service/node_modules/mongoose/lib/model.js:3433:16),     at /home/mingze/428/relink/chat_service/node_modules/kareem/index.js:273:21,     at /home/mingze/428/relink/chat_service/node_modules/kareem/index.js:127:16,     at nextTickCallbackWith0Args (node.js:419:9),     at process._tickCallback (node.js:348:13)]
2017-03-12T23:57:17.122Z - error: uncaughtException: Can't set headers after they are sent. date=Sun Mar 12 2017 18:57:17 GMT-0500 (CDT), pid=16278, uid=1000, gid=1000, cwd=/home/mingze/428/relink/chat_service, execPath=/usr/bin/nodejs, version=v4.2.6, argv=[/usr/bin/nodejs, /home/mingze/428/relink/chat_service/app.js], rss=56922112, heapTotal=37274720, heapUsed=32550896, loadavg=[0.4794921875, 0.49951171875, 0.4384765625], uptime=416248, trace=[column=11, file=_http_outgoing.js, function=ServerResponse.OutgoingMessage.setHeader, line=335, method=OutgoingMessage.setHeader, native=false, column=10, file=/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.header, line=718, method=header, native=false, column=12, file=/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.send, line=163, method=send, native=false, column=15, file=/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.json, line=249, method=json, native=false, column=21, file=/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.send, line=151, method=send, native=false, column=21, file=/home/mingze/428/relink/chat_service/routes/sock.js, function=null, line=36, method=null, native=false, column=21, file=/home/mingze/428/relink/chat_service/database/room_apis.js, function=null, line=61, method=null, native=false, column=16, file=/home/mingze/428/relink/chat_service/node_modules/mongoose/lib/model.js, function=, line=3433, method=null, native=false, column=21, file=/home/mingze/428/relink/chat_service/node_modules/kareem/index.js, function=null, line=273, method=null, native=false, column=16, file=/home/mingze/428/relink/chat_service/node_modules/kareem/index.js, function=null, line=127, method=null, native=false, column=9, file=node.js, function=nextTickCallbackWith0Args, line=419, method=null, native=false, column=13, file=node.js, function=process._tickCallback, line=348, method=_tickCallback, native=false], stack=[Error: Can't set headers after they are sent.,     at ServerResponse.OutgoingMessage.setHeader (_http_outgoing.js:335:11),     at ServerResponse.header (/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js:718:10),     at ServerResponse.send (/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js:163:12),     at ServerResponse.json (/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js:249:15),     at ServerResponse.send (/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js:151:21),     at /home/mingze/428/relink/chat_service/routes/sock.js:36:21,     at /home/mingze/428/relink/chat_service/database/room_apis.js:61:21,     at Query.<anonymous> (/home/mingze/428/relink/chat_service/node_modules/mongoose/lib/model.js:3433:16),     at /home/mingze/428/relink/chat_service/node_modules/kareem/index.js:273:21,     at /home/mingze/428/relink/chat_service/node_modules/kareem/index.js:127:16,     at nextTickCallbackWith0Args (node.js:419:9),     at process._tickCallback (node.js:348:13)]
2017-03-13T01:37:20.062Z - error: uncaughtException: Can't set headers after they are sent. date=Sun Mar 12 2017 20:37:20 GMT-0500 (CDT), pid=16278, uid=1000, gid=1000, cwd=/home/mingze/428/relink/chat_service, execPath=/usr/bin/nodejs, version=v4.2.6, argv=[/usr/bin/nodejs, /home/mingze/428/relink/chat_service/app.js], rss=59985920, heapTotal=36247392, heapUsed=32993392, loadavg=[0.1982421875, 0.259765625, 0.32080078125], uptime=422251, trace=[column=11, file=_http_outgoing.js, function=ServerResponse.OutgoingMessage.setHeader, line=335, method=OutgoingMessage.setHeader, native=false, column=10, file=/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.header, line=718, method=header, native=false, column=12, file=/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.send, line=163, method=send, native=false, column=15, file=/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.json, line=249, method=json, native=false, column=21, file=/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js, function=ServerResponse.send, line=151, method=send, native=false, column=21, file=/home/mingze/428/relink/chat_service/routes/sock.js, function=null, line=36, method=null, native=false, column=21, file=/home/mingze/428/relink/chat_service/database/room_apis.js, function=null, line=61, method=null, native=false, column=16, file=/home/mingze/428/relink/chat_service/node_modules/mongoose/lib/model.js, function=, line=3433, method=null, native=false, column=21, file=/home/mingze/428/relink/chat_service/node_modules/kareem/index.js, function=null, line=273, method=null, native=false, column=16, file=/home/mingze/428/relink/chat_service/node_modules/kareem/index.js, function=null, line=127, method=null, native=false, column=9, file=node.js, function=nextTickCallbackWith0Args, line=419, method=null, native=false, column=13, file=node.js, function=process._tickCallback, line=348, method=_tickCallback, native=false], stack=[Error: Can't set headers after they are sent.,     at ServerResponse.OutgoingMessage.setHeader (_http_outgoing.js:335:11),     at ServerResponse.header (/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js:718:10),     at ServerResponse.send (/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js:163:12),     at ServerResponse.json (/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js:249:15),     at ServerResponse.send (/home/mingze/428/relink/chat_service/node_modules/express/lib/response.js:151:21),     at /home/mingze/428/relink/chat_service/routes/sock.js:36:21,     at /home/mingze/428/relink/chat_service/database/room_apis.js:61:21,     at Query.<anonymous> (/home/mingze/428/relink/chat_service/node_modules/mongoose/lib/model.js:3433:16),     at /home/mingze/428/relink/chat_service/node_modules/kareem/index.js:273:21,     at /home/mingze/428/relink/chat_service/node_modules/kareem/index.js:127:16,     at nextTickCallbackWith0Args (node.js:419:9),     at process._tickCallback (node.js:348:13)]
2017-03-16T01:14:54.849Z - error: uncaughtException: room_id is not defined date=Wed Mar 15 2017 20:14:54 GMT-0500 (CDT), pid=1479, uid=858833857, gid=71667744, cwd=/Users/xmxz023/workspace/relink/chat_service, execPath=/usr/local/Cellar/node/7.6.0/bin/node, version=v7.6.0, argv=[/usr/local/Cellar/node/7.6.0/bin/node, /Users/xmxz023/workspace/relink/chat_service/app.js], rss=55300096, heapTotal=38203392, heapUsed=20924048, external=18214820, loadavg=[3.50048828125, 2.54345703125, 2.46435546875], uptime=630410, trace=[column=23, file=/Users/xmxz023/workspace/relink/chat_service/app.js, function=null, line=126, method=null, native=false, column=7, file=/Users/xmxz023/workspace/relink/chat_service/app.js, function=null, line=94, method=null, native=false, column=21, file=/Users/xmxz023/workspace/relink/chat_service/database/room_apis.js, function=null, line=60, method=null, native=false, column=16, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/mongoose/lib/model.js, function=model.Query.<anonymous>, line=3435, method=Query.<anonymous>, native=false, column=21, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js, function=null, line=273, method=null, native=false, column=16, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js, function=null, line=127, method=null, native=false, column=7, file=internal/process/next_tick.js, function=_combinedTickCallback, line=67, method=null, native=false, column=9, file=internal/process/next_tick.js, function=process._tickCallback, line=98, method=_tickCallback, native=false], stack=[ReferenceError: room_id is not defined,     at /Users/xmxz023/workspace/relink/chat_service/app.js:126:23,     at /Users/xmxz023/workspace/relink/chat_service/app.js:94:7,     at /Users/xmxz023/workspace/relink/chat_service/database/room_apis.js:60:21,     at model.Query.<anonymous> (/Users/xmxz023/workspace/relink/chat_service/node_modules/mongoose/lib/model.js:3435:16),     at /Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js:273:21,     at /Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js:127:16,     at _combinedTickCallback (internal/process/next_tick.js:67:7),     at process._tickCallback (internal/process/next_tick.js:98:9)]
2017-03-16T01:18:10.814Z - error: uncaughtException: room_id is not defined date=Wed Mar 15 2017 20:18:10 GMT-0500 (CDT), pid=1479, uid=858833857, gid=71667744, cwd=/Users/xmxz023/workspace/relink/chat_service, execPath=/usr/local/Cellar/node/7.6.0/bin/node, version=v7.6.0, argv=[/usr/local/Cellar/node/7.6.0/bin/node, /Users/xmxz023/workspace/relink/chat_service/app.js], rss=52215808, heapTotal=23523328, heapUsed=20448256, external=17908316, loadavg=[1.76806640625, 2.126953125, 2.2978515625], uptime=630606, trace=[column=23, file=/Users/xmxz023/workspace/relink/chat_service/app.js, function=null, line=126, method=null, native=false, column=7, file=/Users/xmxz023/workspace/relink/chat_service/app.js, function=null, line=94, method=null, native=false, column=21, file=/Users/xmxz023/workspace/relink/chat_service/database/room_apis.js, function=null, line=60, method=null, native=false, column=16, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/mongoose/lib/model.js, function=model.Query.<anonymous>, line=3435, method=Query.<anonymous>, native=false, column=21, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js, function=null, line=273, method=null, native=false, column=16, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js, function=null, line=127, method=null, native=false, column=7, file=internal/process/next_tick.js, function=_combinedTickCallback, line=67, method=null, native=false, column=9, file=internal/process/next_tick.js, function=process._tickCallback, line=98, method=_tickCallback, native=false], stack=[ReferenceError: room_id is not defined,     at /Users/xmxz023/workspace/relink/chat_service/app.js:126:23,     at /Users/xmxz023/workspace/relink/chat_service/app.js:94:7,     at /Users/xmxz023/workspace/relink/chat_service/database/room_apis.js:60:21,     at model.Query.<anonymous> (/Users/xmxz023/workspace/relink/chat_service/node_modules/mongoose/lib/model.js:3435:16),     at /Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js:273:21,     at /Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js:127:16,     at _combinedTickCallback (internal/process/next_tick.js:67:7),     at process._tickCallback (internal/process/next_tick.js:98:9)]
2017-03-16T01:18:20.624Z - error: uncaughtException: room_id is not defined date=Wed Mar 15 2017 20:18:20 GMT-0500 (CDT), pid=1479, uid=858833857, gid=71667744, cwd=/Users/xmxz023/workspace/relink/chat_service, execPath=/usr/local/Cellar/node/7.6.0/bin/node, version=v7.6.0, argv=[/usr/local/Cellar/node/7.6.0/bin/node, /Users/xmxz023/workspace/relink/chat_service/app.js], rss=52543488, heapTotal=23523328, heapUsed=20772608, external=17908910, loadavg=[1.81005859375, 2.12255859375, 2.2939453125], uptime=630616, trace=[column=23, file=/Users/xmxz023/workspace/relink/chat_service/app.js, function=null, line=126, method=null, native=false, column=7, file=/Users/xmxz023/workspace/relink/chat_service/app.js, function=null, line=94, method=null, native=false, column=21, file=/Users/xmxz023/workspace/relink/chat_service/database/room_apis.js, function=null, line=60, method=null, native=false, column=16, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/mongoose/lib/model.js, function=model.Query.<anonymous>, line=3435, method=Query.<anonymous>, native=false, column=21, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js, function=null, line=273, method=null, native=false, column=16, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js, function=null, line=127, method=null, native=false, column=7, file=internal/process/next_tick.js, function=_combinedTickCallback, line=67, method=null, native=false, column=9, file=internal/process/next_tick.js, function=process._tickCallback, line=98, method=_tickCallback, native=false], stack=[ReferenceError: room_id is not defined,     at /Users/xmxz023/workspace/relink/chat_service/app.js:126:23,     at /Users/xmxz023/workspace/relink/chat_service/app.js:94:7,     at /Users/xmxz023/workspace/relink/chat_service/database/room_apis.js:60:21,     at model.Query.<anonymous> (/Users/xmxz023/workspace/relink/chat_service/node_modules/mongoose/lib/model.js:3435:16),     at /Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js:273:21,     at /Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js:127:16,     at _combinedTickCallback (internal/process/next_tick.js:67:7),     at process._tickCallback (internal/process/next_tick.js:98:9)]
2017-03-16T01:18:31.488Z - error: uncaughtException: room_id is not defined date=Wed Mar 15 2017 20:18:31 GMT-0500 (CDT), pid=1479, uid=858833857, gid=71667744, cwd=/Users/xmxz023/workspace/relink/chat_service, execPath=/usr/local/Cellar/node/7.6.0/bin/node, version=v7.6.0, argv=[/usr/local/Cellar/node/7.6.0/bin/node, /Users/xmxz023/workspace/relink/chat_service/app.js], rss=52203520, heapTotal=23523328, heapUsed=20413720, external=17924464, loadavg=[1.68505859375, 2.0849609375, 2.2783203125], uptime=630627, trace=[column=23, file=/Users/xmxz023/workspace/relink/chat_service/app.js, function=null, line=126, method=null, native=false, column=7, file=/Users/xmxz023/workspace/relink/chat_service/app.js, function=null, line=94, method=null, native=false, column=21, file=/Users/xmxz023/workspace/relink/chat_service/database/room_apis.js, function=null, line=60, method=null, native=false, column=16, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/mongoose/lib/model.js, function=model.Query.<anonymous>, line=3435, method=Query.<anonymous>, native=false, column=21, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js, function=null, line=273, method=null, native=false, column=16, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js, function=null, line=127, method=null, native=false, column=7, file=internal/process/next_tick.js, function=_combinedTickCallback, line=67, method=null, native=false, column=9, file=internal/process/next_tick.js, function=process._tickCallback, line=98, method=_tickCallback, native=false], stack=[ReferenceError: room_id is not defined,     at /Users/xmxz023/workspace/relink/chat_service/app.js:126:23,     at /Users/xmxz023/workspace/relink/chat_service/app.js:94:7,     at /Users/xmxz023/workspace/relink/chat_service/database/room_apis.js:60:21,     at model.Query.<anonymous> (/Users/xmxz023/workspace/relink/chat_service/node_modules/mongoose/lib/model.js:3435:16),     at /Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js:273:21,     at /Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js:127:16,     at _combinedTickCallback (internal/process/next_tick.js:67:7),     at process._tickCallback (internal/process/next_tick.js:98:9)]
2017-03-16T01:18:36.275Z - error: uncaughtException: room_id is not defined date=Wed Mar 15 2017 20:18:36 GMT-0500 (CDT), pid=1479, uid=858833857, gid=71667744, cwd=/Users/xmxz023/workspace/relink/chat_service, execPath=/usr/local/Cellar/node/7.6.0/bin/node, version=v7.6.0, argv=[/usr/local/Cellar/node/7.6.0/bin/node, /Users/xmxz023/workspace/relink/chat_service/app.js], rss=52494336, heapTotal=23523328, heapUsed=20687224, external=17924853, loadavg=[1.9501953125, 2.13330078125, 2.2939453125], uptime=630632, trace=[column=23, file=/Users/xmxz023/workspace/relink/chat_service/app.js, function=null, line=126, method=null, native=false, column=7, file=/Users/xmxz023/workspace/relink/chat_service/app.js, function=null, line=94, method=null, native=false, column=21, file=/Users/xmxz023/workspace/relink/chat_service/database/room_apis.js, function=null, line=60, method=null, native=false, column=16, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/mongoose/lib/model.js, function=model.Query.<anonymous>, line=3435, method=Query.<anonymous>, native=false, column=21, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js, function=null, line=273, method=null, native=false, column=16, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js, function=null, line=127, method=null, native=false, column=7, file=internal/process/next_tick.js, function=_combinedTickCallback, line=67, method=null, native=false, column=9, file=internal/process/next_tick.js, function=process._tickCallback, line=98, method=_tickCallback, native=false], stack=[ReferenceError: room_id is not defined,     at /Users/xmxz023/workspace/relink/chat_service/app.js:126:23,     at /Users/xmxz023/workspace/relink/chat_service/app.js:94:7,     at /Users/xmxz023/workspace/relink/chat_service/database/room_apis.js:60:21,     at model.Query.<anonymous> (/Users/xmxz023/workspace/relink/chat_service/node_modules/mongoose/lib/model.js:3435:16),     at /Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js:273:21,     at /Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js:127:16,     at _combinedTickCallback (internal/process/next_tick.js:67:7),     at process._tickCallback (internal/process/next_tick.js:98:9)]
2017-03-16T01:18:48.870Z - error: uncaughtException: room_id is not defined date=Wed Mar 15 2017 20:18:48 GMT-0500 (CDT), pid=1479, uid=858833857, gid=71667744, cwd=/Users/xmxz023/workspace/relink/chat_service, execPath=/usr/local/Cellar/node/7.6.0/bin/node, version=v7.6.0, argv=[/usr/local/Cellar/node/7.6.0/bin/node, /Users/xmxz023/workspace/relink/chat_service/app.js], rss=52776960, heapTotal=23523328, heapUsed=20978344, external=17933784, loadavg=[1.955078125, 2.12548828125, 2.2880859375], uptime=630644, trace=[column=23, file=/Users/xmxz023/workspace/relink/chat_service/app.js, function=null, line=126, method=null, native=false, column=7, file=/Users/xmxz023/workspace/relink/chat_service/app.js, function=null, line=94, method=null, native=false, column=21, file=/Users/xmxz023/workspace/relink/chat_service/database/room_apis.js, function=null, line=60, method=null, native=false, column=16, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/mongoose/lib/model.js, function=model.Query.<anonymous>, line=3435, method=Query.<anonymous>, native=false, column=21, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js, function=null, line=273, method=null, native=false, column=16, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js, function=null, line=127, method=null, native=false, column=7, file=internal/process/next_tick.js, function=_combinedTickCallback, line=67, method=null, native=false, column=9, file=internal/process/next_tick.js, function=process._tickCallback, line=98, method=_tickCallback, native=false], stack=[ReferenceError: room_id is not defined,     at /Users/xmxz023/workspace/relink/chat_service/app.js:126:23,     at /Users/xmxz023/workspace/relink/chat_service/app.js:94:7,     at /Users/xmxz023/workspace/relink/chat_service/database/room_apis.js:60:21,     at model.Query.<anonymous> (/Users/xmxz023/workspace/relink/chat_service/node_modules/mongoose/lib/model.js:3435:16),     at /Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js:273:21,     at /Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js:127:16,     at _combinedTickCallback (internal/process/next_tick.js:67:7),     at process._tickCallback (internal/process/next_tick.js:98:9)]
2017-03-16T01:22:35.151Z - error: uncaughtException: user is not defined date=Wed Mar 15 2017 20:22:35 GMT-0500 (CDT), pid=4277, uid=858833857, gid=71667744, cwd=/Users/xmxz023/workspace/relink/chat_service, execPath=/usr/local/Cellar/node/7.6.0/bin/node, version=v7.6.0, argv=[/usr/local/Cellar/node/7.6.0/bin/node, /Users/xmxz023/workspace/relink/chat_service/app.js], rss=51847168, heapTotal=22999040, heapUsed=19598280, external=17877025, loadavg=[1.9912109375, 2.13720703125, 2.2548828125], uptime=630871, trace=[column=53, file=/Users/xmxz023/workspace/relink/chat_service/app.js, function=null, line=129, method=null, native=false, column=7, file=/Users/xmxz023/workspace/relink/chat_service/app.js, function=null, line=108, method=null, native=false, column=17, file=/Users/xmxz023/workspace/relink/chat_service/database/room_apis.js, function=null, line=126, method=null, native=false, column=16, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/mongoose/lib/model.js, function=model.Query.<anonymous>, line=3435, method=Query.<anonymous>, native=false, column=21, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js, function=null, line=273, method=null, native=false, column=16, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js, function=null, line=127, method=null, native=false, column=7, file=internal/process/next_tick.js, function=_combinedTickCallback, line=67, method=null, native=false, column=9, file=internal/process/next_tick.js, function=process._tickCallback, line=98, method=_tickCallback, native=false], stack=[ReferenceError: user is not defined,     at /Users/xmxz023/workspace/relink/chat_service/app.js:129:53,     at /Users/xmxz023/workspace/relink/chat_service/app.js:108:7,     at /Users/xmxz023/workspace/relink/chat_service/database/room_apis.js:126:17,     at model.Query.<anonymous> (/Users/xmxz023/workspace/relink/chat_service/node_modules/mongoose/lib/model.js:3435:16),     at /Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js:273:21,     at /Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js:127:16,     at _combinedTickCallback (internal/process/next_tick.js:67:7),     at process._tickCallback (internal/process/next_tick.js:98:9)]
2017-03-16T01:22:53.932Z - error: uncaughtException: user is not defined date=Wed Mar 15 2017 20:22:53 GMT-0500 (CDT), pid=5042, uid=858833857, gid=71667744, cwd=/Users/xmxz023/workspace/relink/chat_service, execPath=/usr/local/Cellar/node/7.6.0/bin/node, version=v7.6.0, argv=[/usr/local/Cellar/node/7.6.0/bin/node, /Users/xmxz023/workspace/relink/chat_service/app.js], rss=56332288, heapTotal=39251968, heapUsed=20054240, external=18206737, loadavg=[2.34326171875, 2.2080078125, 2.2763671875], uptime=630889, trace=[column=53, file=/Users/xmxz023/workspace/relink/chat_service/app.js, function=null, line=129, method=null, native=false, column=7, file=/Users/xmxz023/workspace/relink/chat_service/app.js, function=null, line=108, method=null, native=false, column=17, file=/Users/xmxz023/workspace/relink/chat_service/database/room_apis.js, function=null, line=126, method=null, native=false, column=16, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/mongoose/lib/model.js, function=model.Query.<anonymous>, line=3435, method=Query.<anonymous>, native=false, column=21, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js, function=null, line=273, method=null, native=false, column=16, file=/Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js, function=null, line=127, method=null, native=false, column=7, file=internal/process/next_tick.js, function=_combinedTickCallback, line=67, method=null, native=false, column=9, file=internal/process/next_tick.js, function=process._tickCallback, line=98, method=_tickCallback, native=false], stack=[ReferenceError: user is not defined,     at /Users/xmxz023/workspace/relink/chat_service/app.js:129:53,     at /Users/xmxz023/workspace/relink/chat_service/app.js:108:7,     at /Users/xmxz023/workspace/relink/chat_service/database/room_apis.js:126:17,     at model.Query.<anonymous> (/Users/xmxz023/workspace/relink/chat_service/node_modules/mongoose/lib/model.js:3435:16),     at /Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js:273:21,     at /Users/xmxz023/workspace/relink/chat_service/node_modules/kareem/index.js:127:16,     at _combinedTickCallback (internal/process/next_tick.js:67:7),     at process._tickCallback (internal/process/next_tick.js:98:9)]
